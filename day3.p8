pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
#include serial.p8
#include advent.p8

ulp = 0x0.0001

function common_bits(tbl)
 local counts = {}
 for bits in all(tbl) do
  local bits = split(bits, "")
  for p=1,#bits do
   if (counts[p] == nil) counts[p] = 0
   if bits[p] == 1 then
    counts[p] += 1
   end
  end
 end

 local gamma = 0
 local epsilon = 0
 for p=1,#counts do
  gamma *= 2
  epsilon *= 2
  local c = counts[p]
  if c > #tbl-c then
   gamma += ulp
  else
   epsilon += ulp
  end
 end
 ?"gamma = "..shl(gamma,16)
 ?"epsilon = "..shl(epsilon,16)
 
 prod = shl(gamma,16)*epsilon
 return tostr(prod, 2)
end

test_in = {
 "00100",
 "11110",
 "10110",
 "10111",
 "10101",
 "01111",
 "00111",
 "11100",
 "10000",
 "11001",
 "00010",
 "01010"
}
test(common_bits(test_in), "198")

input = read_lines()
check(common_bits(input))
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
77777777777777777111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111771111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111117771111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111117771111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111117711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111177111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111771111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111117711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111177111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111771111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111117771111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111117711111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111177111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111771111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111117711111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111177111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111771111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111117111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111771111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111117711111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111177111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111711111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111177111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111771111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111117111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111711111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111177111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111771111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111117711111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111771111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111771111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111117711111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111117711111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111177111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111711
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111171
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111117
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1bb1b1b1bbb11bb1b1b11111bbb1bb111bb1b1b1bbb1bbb111111111bb11bbb1bbb1bbb1bbb1bbb1bbb1bb11bbb1bbb111111111111111111111111111111111
b111b1b1b111b111b1b11111b1b1b1b1b111b1b1b111b1b11b1111111b11b1b1b1b1b1b1b111b1b111b11b1111b1b11111111111111111111111111111111111
b111bbb1bb11b111bb111111bbb1b1b1bbb1b1b1bb11bb11111111111b11bbb1bbb1b1b1bbb1bbb11bb11b11bbb1bbb111111111111111111111111111111111
b111b1b1b111b111b1b11111b1b1b1b111b1bbb1b111b1b11b1111111b11b1b1b1b1b1b111b111b111b11b11b11111b111111111111111111111111111111111
1bb1b1b1bbb11bb1b1b11111b1b1b1b1bb11bbb1bbb1b1b111111111bbb1bbb1bbb1bbb1bbb111b1bbb1bbb1bbb1bbb111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111

