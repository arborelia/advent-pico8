pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
#include input2.lua
#include advent.p8

-- example
-- forward 5
-- down 5
-- forward 8

function journey(steps)
 x = 0
 depth = 0
 px = 0
 pdepth = 0
 cls(1)
 
 for step in all(steps) do
  parts = split(step, " ")
  command = parts[1]
  num = tonum(parts[2])
  if command == "forward" then
   x += num
  elseif command == "down" then
   depth += num
  elseif command == "up" then
   depth -= num
  elseif command != "" then
   assert(false, "weird command "..command)
  end
  
  -- plot the journey if we can!
  line(px, pdepth, x, depth)
  px = x
  pdepth = depth
 end
 return {x=x, depth=depth}
end

function journey_val(steps)
 dest = journey(steps)
 print("x = "..dest.x)
 print("depth = "..dest.depth)
 return bigmul(dest.x, dest.depth)
end

assert(journey_val({
 "forward 5", "down 5",
 "forward 8", "up 3", "down 8",
 "forward 2"
}) == "150")

steps = split(input, "\n")
check(journey_val(steps))
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
66666666661111116661666166616611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
61611111666111111161616161611611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
16111111161111116661616166611611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
61611111666111116111616111611611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
61611111161111116661666111616661111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
66116661666166616161111111111111666166616611111111111111111111111111111111111111111111111111111111111111111111111111111111111111
61616111666666666161111166611111116111611611111111111111111111111111111111111111111111111111111111111111111111111111111111111111
61616611666116166661111111111111116166611611111111111111111111111111111111111111111111111111111111111111111111111111111111111111
61616111611116166161111166611111116161111611111111111111111111111111111111111111111111111111111111111111111111111111111111111111
66616661611116166161111111111111116166616661111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111161111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111166666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111611111111111111111111111111111111111111111111111661111111111111111111111111111111111111111111111111111111
11111111111111111111111611111111111111111111111111111111111111111111111661111111111111111111111111111111111111111111111111111111
11111111111111111111111666666666611111111111111111111111111111111111111661111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611111111111111111111111111111111111111661111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611111111111111111111111111111111111111661111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611111111111111111111111111111111161111661111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611111111111111111111111111111111161111661111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611111111111111111111111111111111161111661111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611111111111111111111111111111111161111661111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611111111111111111111111111111111166666661111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111666666666666666666666111111111111161111161111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111116111111111111161111161111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111116111111111111161111161111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111116111111111111161111161111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111116111111111111161111161111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111116111111111111161111161111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111116111111111111161111161111166666666611111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111116666666666666161111161111161111111611111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111116111111111116161111161111661111111611111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111116161111161111661111111611111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111116161111161111611111111611111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111116661111161111611111111611111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111161111161111611111111666111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111161111611111111616111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111161111611111111616111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111161111611111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111161111611111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111161111611111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111161111611111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111166666611111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666661111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111611111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666611111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111611111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111611111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111661111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111161111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111161111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111161111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111666666666666666
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111611111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111611111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111611111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111611111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111611111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111611111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111161111611111111111111
1bb1b1b1bbb11bb1b1b11111bbb1bb111bb1b1b1bbb1bbb111111111bb11bbb1bbb1bbb1b111bb11bb1111111111111111111111111161111611111111111111
b111b1b1b111b111b1b11111b1b1b1b1b111b1b1b111b1b11b1111111b11b111b1b111b1b1111b111b1111111111111111111111111166666611111111111111
b111bbb1bb11b111bb111111bbb1b1b1bbb1b1b1bb11bb11111111111b11bbb1b1b111b1bbb11b111b1111111111111111111111111111111111111111111111
b111b1b1b111b111b1b11111b1b1b1b111b1bbb1b111b1b11b1111111b1111b1b1b111b1b1b11b111b1111111111111111111111111111111111111111111111
1bb1b1b1bbb11bb1b1b11111b1b1b1b1bb11bbb1bbb1b1b111111111bbb1bbb1bbb111b1bbb1bbb1bbb111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111

